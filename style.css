/**
 * Rover Documentation - Custom Styles
 * 
 * Uses Tailwind CSS neutral color utilities only - no hardcoded values
 * Supports dark mode using the dark: variant
 * 
 * Reference: https://tailwindcss.com/docs/dark-mode
 * Reference: https://tailwindcss.com/docs/colors
 */

/* ============================================
   CARDS
   ============================================ */

.card {
  @apply bg-neutral-50 border border-black/[0.08] transition-all duration-200;
}

.card:hover {
  @apply bg-neutral-100 border-black/[0.12];
}

@media (prefers-color-scheme: dark) {
  .card {
    @apply bg-neutral-900 border-neutral-100/[0.08];
  }
  
  .card:hover {
    @apply bg-neutral-800 border-neutral-100/[0.12];
  }
}

/* Override Mintlify card borders */
.card-group .card {
  @apply border-black/[0.08];
}

.card-group .card:hover {
  @apply border-black/[0.12];
}

@media (prefers-color-scheme: dark) {
  .card-group .card {
    @apply border-neutral-100/[0.08] !important;
  }
  
  .card-group .card:hover {
    @apply border-neutral-100/[0.12] !important;
  }
}

/* Card icon stroke width - thinner */
.card-group .card .icon,
.card-group .card svg,
.card-group .card svg path {
  stroke-width: 0.75px !important;
}

/* Card typography - match app typography */
.card-group .card-title,
.card-group .card h3,
.card-group .card h4 {
  font-size: 14px !important;
  font-weight: 600 !important;
  line-height: 1.5 !important;
}

@media (min-width: 768px) {
  .card-group .card-title,
  .card-group .card h3,
  .card-group .card h4 {
    font-size: 15px !important;
  }
}

/* Equal vertical padding for cards */
.card-group .card {
  padding-top: 1.25rem !important;
  padding-bottom: 1.25rem !important;
}

/* ============================================
   CUSTOM LEARN MORE CARDS
   ============================================ */

a.learn-more-card,
.learn-more-card {
  background-color: #ffffff !important;
  text-decoration: none !important;
  box-shadow: none !important;
  border-bottom: none !important;
}

a.learn-more-card:hover,
.learn-more-card:hover {
  background-color: #fafafa !important;
  text-decoration: none !important;
  box-shadow: none !important;
  border-bottom: none !important;
}

a.learn-more-card:focus,
.learn-more-card:focus {
  outline: none !important;
  box-shadow: none !important;
  border-bottom: none !important;
}

@media (prefers-color-scheme: dark) {
  a.learn-more-card,
  .learn-more-card {
    background-color: #ffffff !important;
  }
  
  a.learn-more-card:hover,
  .learn-more-card:hover {
    background-color: #fafafa !important;
  }
}

.learn-more-card svg,
.learn-more-card .icon {
  stroke-width: 0.75px !important;
  color: #111827;
}

@media (prefers-color-scheme: dark) {
  .learn-more-card svg,
  .learn-more-card .icon {
    color: #e4e4e4;
  }
}

/* ============================================
   LINKS
   ============================================ */

a {
  @apply text-neutral-900 no-underline transition-opacity duration-200;
}

@media (prefers-color-scheme: dark) {
  a {
    @apply text-neutral-100;
  }
}

a:hover {
  @apply opacity-70;
}

.nav-anchor,
.navbar-link {
  @apply transition-opacity duration-200;
}

.nav-anchor:hover,
.navbar-link:hover {
  @apply opacity-70;
}

.nav-anchor[data-active="true"] {
  @apply font-semibold opacity-100;
}

/* ============================================
   TYPOGRAPHY - BODY/CONTENT COPY
   ============================================ */

/* Mobile: 14px */
body,
p,
.prose,
.prose p,
.prose li,
.prose td,
.prose th,
.prose blockquote,
.prose code,
.prose pre {
  font-size: 14px !important;
  line-height: 1.5 !important;
}

/* Tablet and Desktop: 15px (768px and up) */
@media (min-width: 768px) {
  body,
  p,
  .prose,
  .prose p,
  .prose li,
  .prose td,
  .prose th,
  .prose blockquote,
  .prose code,
  .prose pre {
    font-size: 15px !important;
    line-height: 1.5 !important;
  }
}

/* ============================================
   HEADINGS
   ============================================ */

h1 {
  @apply text-neutral-900 font-medium;
}

h2, h3, h4, h5, h6 {
  @apply text-neutral-900 font-semibold;
}

/* Set headings to 20px (targeting h2/h3 that are currently 22.5px) */
h2,
h3,
span.cursor-pointer {
  font-size: 18px !important;
}

@media (prefers-color-scheme: dark) {
  h1 {
    @apply text-neutral-50;
  }
  
  h2, h3, h4, h5, h6 {
    @apply text-neutral-50;
  }
  
  h2,
  h3,
  span.cursor-pointer {
    font-size: 18px !important;
  }
}

#page-title {
  @apply text-neutral-900;
}

@media (prefers-color-scheme: dark) {
  #page-title {
    @apply text-neutral-50;
  }
}

/* Change all bold to semibold */
strong,
b,
.prose strong,
.prose b {
  font-weight: 600 !important; /* semibold (600) instead of bold (700) */
}

/* ============================================
   NAVBAR & SIDEBAR BACKGROUNDS
   ============================================ */

/* Navbar (top header) - white background */
#navbar {
  background-color: #ffffff !important;
  background: #ffffff !important;
}

nav[role="navigation"],
header,
[data-navbar],
.navbar {
  background-color: #ffffff !important;
  background: #ffffff !important;
}

/* Sidebar - #fafafa background */
/* #sidebar {
  background-color: #fafafa !important;
  background: #fafafa !important;
} */

/* aside[role="complementary"],
[data-sidebar],
.sidebar,
nav[aria-label="Sidebar"] {
  background-color: #fafafa !important;
  background: #fafafa !important;
} */

@media (prefers-color-scheme: dark) {
  #navbar {
    background-color: #ffffff !important;
    background: #ffffff !important;
  }
  
  nav[role="navigation"],
  header,
  [data-navbar],
  .navbar {
    background-color: #ffffff !important;
    background: #ffffff !important;
  }
  
  /* #sidebar {
    background-color: #fafafa !important;
    background: #fafafa !important;
  } */
  
  /* aside[role="complementary"],
  [data-sidebar],
  .sidebar,
  nav[aria-label="Sidebar"] {
    background-color: #fafafa !important;
    background: #fafafa !important;
  } */
}

/* ============================================
   BORDERS - 8% opacity throughout
   ============================================ */

#navbar {
  @apply border-b border-black/[0.08];
}

@media (prefers-color-scheme: dark) {
  #navbar {
    @apply border-neutral-100/[0.08];
  }
}

#sidebar {
  @apply border-r border-black/[0.08];
}

@media (prefers-color-scheme: dark) {
  #sidebar {
    @apply border-neutral-100/[0.08];
  }
}

#table-of-contents {
  @apply border-l border-black/[0.08];
}

@media (prefers-color-scheme: dark) {
  #table-of-contents {
    @apply border-neutral-100/[0.08];
  }
}

/* Hide "On this page" heading only - using Mintlify identifiers */
[data-table-of-contents] > h3:first-child,
[data-table-of-contents] > h4:first-child,
[data-table-of-contents] > h2:first-child,
[data-table-of-contents] h3:first-of-type,
[data-table-of-contents] h4:first-of-type,
[data-table-of-contents] h2:first-of-type,
#table-of-contents > h3:first-child,
#table-of-contents > h4:first-child,
#table-of-contents > h2:first-child,
#table-of-contents h3:first-of-type,
#table-of-contents h4:first-of-type,
#table-of-contents h2:first-of-type,
[data-toc-heading],
.toc-heading,
aside > h3:first-child,
aside > h4:first-child,
aside > h2:first-child,
aside h3:first-of-type,
aside h4:first-of-type,
aside h2:first-of-type,
[aria-label*="On this page"],
[aria-label*="on this page"],
button[aria-label*="On this page"],
button[aria-label*="on this page"],
[data-table-of-contents] button:first-child,
[data-table-of-contents] > div:first-child button {
  display: none !important;
}

/* Hide the hamburger icon/button next to "On this page" */
#table-of-contents button:first-child,
aside button:first-child,
#table-of-contents > div:first-child button,
aside > div:first-child button {
  display: none !important;
}

#footer {
  @apply border-t border-black/[0.08];
}

@media (prefers-color-scheme: dark) {
  #footer {
    @apply border-neutral-100/[0.08];
  }
}

hr {
  @apply border-black/[0.08];
}

@media (prefers-color-scheme: dark) {
  hr {
    @apply border-neutral-100/[0.08];
  }
}

/* ============================================
   TABLES
   ============================================ */

thead {
  @apply bg-neutral-50 border-b border-black/[0.08];
}

@media (prefers-color-scheme: dark) {
  thead {
    @apply bg-neutral-900 border-neutral-100/[0.08];
  }
}

tbody tr {
  @apply border-b border-black/[0.08];
}

@media (prefers-color-scheme: dark) {
  tbody tr {
    @apply border-neutral-100/[0.08];
  }
}

tbody tr:hover {
  @apply bg-neutral-50;
}

@media (prefers-color-scheme: dark) {
  tbody tr:hover {
    @apply bg-neutral-900;
  }
}

/* ============================================
   CODE BLOCKS
   ============================================ */

code:not([class*="language-"]) {
  @apply bg-neutral-100 text-neutral-900 px-1 py-0.5 rounded text-sm;
}

@media (prefers-color-scheme: dark) {
  code:not([class*="language-"]) {
    @apply bg-neutral-800 text-neutral-100;
  }
}

.code-block {
  @apply bg-neutral-50 border border-black/[0.08];
}

@media (prefers-color-scheme: dark) {
  .code-block {
    @apply bg-neutral-950 border-neutral-100/[0.08];
  }
}

/* ============================================
   BUTTONS
   ============================================ */

#topbar-cta-button {
  @apply bg-neutral-900 text-neutral-50 border border-neutral-900 transition-all duration-200;
}

#topbar-cta-button:hover {
  @apply bg-neutral-800 border-neutral-800;
}

@media (prefers-color-scheme: dark) {
  #topbar-cta-button {
    @apply bg-neutral-100 text-neutral-900 border-neutral-100;
  }
  
  #topbar-cta-button:hover {
    @apply bg-neutral-200 border-neutral-200;
  }
}

/* Navbar primary button */
.navbar-primary-button,
.navbar-primary-button a,
[data-primary-button],
#navbar a[href*="rover.inc"] {
  @apply transition-opacity duration-200;
}

.navbar-primary-button:hover,
.navbar-primary-button a:hover,
[data-primary-button]:hover,
#navbar a[href*="rover.inc"]:hover {
  opacity: 0.8;
}

/* ============================================
   SEARCH
   ============================================ */

#search-input {
  @apply bg-neutral-50 border border-black/[0.08] text-neutral-900;
}

@media (prefers-color-scheme: dark) {
  #search-input {
    @apply bg-neutral-900 border-neutral-100/[0.08] text-neutral-100;
  }
}

#search-input:focus {
  @apply outline-2 outline-black/[0.12] outline-offset-2 border-black/[0.12];
}

@media (prefers-color-scheme: dark) {
  #search-input:focus {
    @apply outline-neutral-100/[0.12] border-neutral-100/[0.12];
  }
}

/* ============================================
   CALLOUTS & ALERTS
   ============================================ */

.callout {
  @apply bg-neutral-50 border-l-4 border-black/[0.08];
}

@media (prefers-color-scheme: dark) {
  .callout {
    @apply bg-neutral-900 border-neutral-100/[0.08];
  }
}

/* ============================================
   ACCORDIONS
   ============================================ */

.accordion {
  @apply border border-black/[0.08] rounded-lg;
}

@media (prefers-color-scheme: dark) {
  .accordion {
    @apply border-neutral-100/[0.08];
  }
}

/* ============================================
   TABS
   ============================================ */

/* Rewritten to apply to tab titles more reliably */
.tab-title,
.tab-title *,
.nav-tabs-item,
.nav-tabs-item * {
  font-size: 0.75rem !important; /* 12px */
}

/* ============================================
   PAGINATION
   ============================================ */

#pagination {
  @apply border-t border-black/[0.08] mt-12 pt-8;
}

@media (prefers-color-scheme: dark) {
  #pagination {
    @apply border-neutral-100/[0.08];
  }
}

.pagination-prev,
.pagination-next {
  @apply border border-black/[0.08] rounded-lg p-4 transition-all duration-200;
}

@media (prefers-color-scheme: dark) {
  .pagination-prev,
  .pagination-next {
    @apply border-neutral-100/[0.08];
  }
}

.pagination-prev:hover,
.pagination-next:hover {
  @apply bg-neutral-50 border-black/[0.12];
}

@media (prefers-color-scheme: dark) {
  .pagination-prev:hover,
  .pagination-next:hover {
    @apply bg-neutral-900 border-neutral-100/[0.12];
  }
}

/* ============================================
   TABLE OF CONTENTS
   ============================================ */

.toc-item {
  @apply text-neutral-600 transition-colors duration-200;
}

@media (prefers-color-scheme: dark) {
  .toc-item {
    @apply text-neutral-400;
  }
}

.toc-item:hover,
.toc-item[data-active="true"] {
  @apply text-neutral-900;
}

@media (prefers-color-scheme: dark) {
  .toc-item:hover,
  .toc-item[data-active="true"] {
    @apply text-neutral-100;
  }
}

/* ============================================
   SIDEBAR
   ============================================ */

/* Sidebar navigation background */
#navigation-items {
  background-color: #fafafa !important;
  background: #fafafa !important;
}

/* #sidebar,
#sidebar nav,
#sidebar > div,
.sidebar-nav,
[data-sidebar-nav] {
  background-color: #fafafa !important;
  background: #fafafa !important;
} */

@media (prefers-color-scheme: dark) {
  #navigation-items {
    background-color: #fafafa !important;
    background: #fafafa !important;
  }
  
  /* Duplicate sidebar background rules removed for clarity. Sidebar background is handled globally; no need to redeclare here. */
}

.sidebar-group-header {
  @apply text-neutral-600 font-medium uppercase text-xs tracking-wider;
}

@media (prefers-color-scheme: dark) {
  .sidebar-group-header {
    @apply text-neutral-400;
  }
}

.sidebar-title {
  @apply text-neutral-900 transition-opacity duration-200;
}

@media (prefers-color-scheme: dark) {
  .sidebar-title {
    @apply text-neutral-100;
  }
}

.sidebar-title:hover {
  @apply opacity-70;
}

.sidebar-title[data-active="true"] {
  @apply font-semibold;
}

/* ============================================
   FOCUS STATES
   ============================================ */

*:focus-visible {
  @apply outline-2 outline-black/[0.12] outline-offset-2;
}

@media (prefers-color-scheme: dark) {
  *:focus-visible {
    @apply outline-neutral-100/[0.12];
  }
}

/* ============================================
   TEXT SELECTION
   ============================================ */

::selection {
  @apply bg-neutral-200 text-neutral-900;
}

@media (prefers-color-scheme: dark) {
  ::selection {
    @apply bg-neutral-800 text-neutral-100;
  }
}

/* ============================================
   TOC ACTIONS (Copy Page & Share Feedback)
   ============================================ */

.toc-action-item {
  list-style: none;
  margin-bottom: 0.5rem; /* Match TOC item spacing */
}

.toc-action-item:last-child {
  margin-bottom: 0;
}

.toc-action-link {
  @apply text-neutral-600 transition-colors duration-200;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.toc-action-link:hover {
  @apply text-neutral-900;
}

.toc-action-link[data-active="true"] {
  @apply text-neutral-900 font-semibold;
}

.toc-action-icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: currentColor;
}

.toc-action-icon svg {
  width: 14px;
  height: 14px;
}

/* Ensure all Lucide icons follow the proper format */
.lucide,
svg.lucide,
[class*="lucide-"] svg {
  stroke-width: 2 !important;
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
}

/* Ensure Mintlify Icon component renders Lucide icons correctly */
svg[class*="lucide"] {
  fill: none !important;
  stroke: currentColor !important;
}

.toc-action-checkmark {
  animation: checkmarkFadeIn 0.3s ease-in-out;
}

@keyframes checkmarkFadeIn {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@media (prefers-color-scheme: dark) {
  .toc-action-link {
    @apply text-neutral-400;
  }
  
  .toc-action-link:hover,
  .toc-action-link[data-active="true"] {
    @apply text-neutral-100;
  }
}

.toc-actions-divider {
  border-top: 1px solid rgba(0, 0, 0, 0.08) !important; 
  margin-top: 1rem !important;
  padding-top: 1rem !important;
  list-style: none !important;
  display: list-item !important;
  min-height: 1px !important;
}



/* ============================================
   PROSE IMAGES
   ============================================ */

.prose :where(img):not(:where([class~=not-prose],[class~=not-prose] *)) {
  margin: 0;
}

/* Remove border radius from all images */
img {
  border-radius: 0 !important;
}

img[class*="rounded"],
img.rounded,
.prose img,
.prose :where(img):not(:where([class~=not-prose],[class~=not-prose] *)) {
  border-radius: 0 !important;
}

/* ============================================
   LEARN MORE CARD GROUP - OVERFLOW
   ============================================ */

.mint-grid,
.grid.mt-6 {
  overflow: visible !important;
}

/* ============================================
   CONCEPTS PAGE - HEADING ALIGNMENT
   ============================================ */

/* Remove top margin from h3 headings in concepts page sections */
section.mb-12 h3.mt-0 {
  margin-top: 0 !important;
}
